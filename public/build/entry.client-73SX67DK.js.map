{
  "version": 3,
  "sources": ["../../app/entry.client.tsx", "../../node_modules/stop-runaway-react-effects/dist/stop-runaway-react-effects.esm.js"],
  "sourcesContent": ["import { hydrate } from \"react-dom\";\nimport { RemixBrowser } from \"remix\";\n\nimport { hijackEffects } from \"stop-runaway-react-effects\";\n\nif (process.env.NODE_ENV === \"development\") {\n  hijackEffects({\n    callCount: 500,\n    timeLimit: 1000\n  });\n}\n\nhydrate(<RemixBrowser />, document);\n", "import React from 'react';\n\n// not be considered breaking. We're just trying to approximate what a usual\n// combination would be to determine whether the effect is runaway.\n\nvar DEFAULT_CALL_COUNT = 60;\nvar DEFAULT_TIME_LIMIT = 1000; // this file is basically gone in production...\n// but people can still call the functions safely either way.\n\nvar noop = function () {\n  return function () {};\n};\n\nvar last = function (array) {\n  return array[array.length - 1];\n};\n\nvar hijackEffectHook = process.env.NODE_ENV === 'production' ? noop : function (hookName, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      _ref$callCount = _ref.callCount,\n      callCount = _ref$callCount === void 0 ? DEFAULT_CALL_COUNT : _ref$callCount,\n      _ref$timeLimit = _ref.timeLimit,\n      timeLimit = _ref$timeLimit === void 0 ? DEFAULT_TIME_LIMIT : _ref$timeLimit;\n\n  var originalHook = React[hookName];\n  React[hookName] = getHijackedEffectHook({\n    hookName: hookName,\n    callCount: callCount,\n    timeLimit: timeLimit\n  });\n  return function () {\n    React[hookName] = originalHook;\n  };\n};\n\nfunction getHijackedEffectHook(_ref2) {\n  var hookName = _ref2.hookName,\n      callCount = _ref2.callCount,\n      timeLimit = _ref2.timeLimit;\n  var originalHook = React[hookName];\n  return function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var hookCallback = args[0],\n        deps = args[1];\n    var ref = React.useRef([]);\n    var warnedRef = React.useRef(false);\n    return originalHook.call(React, function () {\n      var calls = ref.current;\n      var oldestCall = last(calls);\n      var now = Date.now();\n      calls.push({\n        time: now,\n        args: args\n      });\n\n      if (!warnedRef.current && calls.length >= callCount && oldestCall.time > now - timeLimit) {\n        var _console;\n\n        var allRecentCallDependencies = calls.map(function (c) {\n          return c.args[1];\n        });\n        var messages = [\"The following effect callback was invoked \" + callCount + \" times in \" + timeLimit + \"ms\", '\\n', hookCallback.toString()];\n\n        if (allRecentCallDependencies.some(Boolean)) {\n          messages.push('\\n', \"Here are the dependencies this effect was called with the last \" + callCount + \" times:\", allRecentCallDependencies);\n          messages.push('\\n', \"Here are the dependency changes between each call:\", allRecentCallDependencies.map(function (callDeps, callIndex) {\n            if (callIndex === 0) {\n              return callDeps;\n            }\n\n            return callDeps.map(function (dep, depIndex) {\n              var prevDep = allRecentCallDependencies[callIndex - 1][depIndex];\n              return Object.is(dep, prevDep) ? 'UNCHANGED' : dep;\n            });\n          }));\n          messages.push('\\n', \"Try to find where those changing dependencies are initialized. You probably need to memoize them using React.useMemo or React.useCallback\");\n        } else {\n          messages.push('\\n', \"This effect is not called with a dependencies argument and probably should. Start by adding `[]` as a second argument to the \" + hookName + \" call, then add any other dependencies as elements to that array. You may also be interested in installing ESLint with https://npm.im/eslint-plugin-react-hooks\");\n        }\n\n        (_console = console).warn.apply(_console, messages);\n\n        warnedRef.current = true;\n        throw new Error(\"Uh oh... Looks like we've got a runaway \" + hookName + \". Check the console for more info. Make sure the \" + hookName + \" is being passed the right dependencies. (By the way, this error message is from https://npm.im/stop-runaway-react-effects, not React)\");\n      } // remove old records\n\n\n      ref.current = calls // only store up to the callCount\n      .slice(0, callCount) // only store effects called within the timeLimit\n      .filter(function (r) {\n        return r.time > now - timeLimit;\n      }); // call the original callback\n\n      return hookCallback();\n    }, deps);\n  };\n}\n\nvar hijackEffects = process.env.NODE_ENV === 'production' ? noop : function (options) {\n  var restoreUseEffect = hijackEffectHook('useEffect', options);\n  var restoreUseLayoutEffect = hijackEffectHook('useLayoutEffect', options);\n  return function () {\n    restoreUseEffect();\n    restoreUseLayoutEffect();\n  };\n};\n\nexport { hijackEffectHook, hijackEffects };\n"],
  "mappings": ";;;;;;;;;;;;;;AAAA;AAAA,uBAAwB;;;ACAxB;AAAA,mBAAkB;AAKlB,IAAI,qBAAqB;AACzB,IAAI,qBAAqB;AAOzB,IAAI,OAAO,SAAU,OAAO;AAC1B,SAAO,MAAM,MAAM,SAAS;AAAA;AAG9B,IAAI,mBAAmB,QAAwC,OAAO,SAAU,UAAU,OAAO;AAC/F,MAAI,OAAO,UAAU,SAAS,KAAK,OAC/B,iBAAiB,KAAK,WACtB,YAAY,mBAAmB,SAAS,qBAAqB,gBAC7D,iBAAiB,KAAK,WACtB,YAAY,mBAAmB,SAAS,qBAAqB;AAEjE,MAAI,eAAe,qBAAM;AACzB,uBAAM,YAAY,sBAAsB;AAAA,IACtC;AAAA,IACA;AAAA,IACA;AAAA;AAEF,SAAO,WAAY;AACjB,yBAAM,YAAY;AAAA;AAAA;AAItB,+BAA+B,OAAO;AACpC,MAAI,WAAW,MAAM,UACjB,YAAY,MAAM,WAClB,YAAY,MAAM;AACtB,MAAI,eAAe,qBAAM;AACzB,SAAO,WAAY;AACjB,aAAS,OAAO,UAAU,QAAQ,OAAO,IAAI,MAAM,OAAO,OAAO,GAAG,OAAO,MAAM,QAAQ;AACvF,WAAK,QAAQ,UAAU;AAAA;AAGzB,QAAI,eAAe,KAAK,IACpB,OAAO,KAAK;AAChB,QAAI,MAAM,qBAAM,OAAO;AACvB,QAAI,YAAY,qBAAM,OAAO;AAC7B,WAAO,aAAa,KAAK,sBAAO,WAAY;AAC1C,UAAI,QAAQ,IAAI;AAChB,UAAI,aAAa,KAAK;AACtB,UAAI,MAAM,KAAK;AACf,YAAM,KAAK;AAAA,QACT,MAAM;AAAA,QACN;AAAA;AAGF,UAAI,CAAC,UAAU,WAAW,MAAM,UAAU,aAAa,WAAW,OAAO,MAAM,WAAW;AACxF,YAAI;AAEJ,YAAI,4BAA4B,MAAM,IAAI,SAAU,GAAG;AACrD,iBAAO,EAAE,KAAK;AAAA;AAEhB,YAAI,WAAW,CAAC,+CAA+C,YAAY,eAAe,YAAY,MAAM,MAAM,aAAa;AAE/H,YAAI,0BAA0B,KAAK,UAAU;AAC3C,mBAAS,KAAK,MAAM,oEAAoE,YAAY,WAAW;AAC/G,mBAAS,KAAK,MAAM,sDAAsD,0BAA0B,IAAI,SAAU,UAAU,WAAW;AACrI,gBAAI,cAAc,GAAG;AACnB,qBAAO;AAAA;AAGT,mBAAO,SAAS,IAAI,SAAU,KAAK,UAAU;AAC3C,kBAAI,UAAU,0BAA0B,YAAY,GAAG;AACvD,qBAAO,OAAO,GAAG,KAAK,WAAW,cAAc;AAAA;AAAA;AAGnD,mBAAS,KAAK,MAAM;AAAA,eACf;AACL,mBAAS,KAAK,MAAM,kIAAkI,WAAW;AAAA;AAGnK,QAAC,YAAW,SAAS,KAAK,MAAM,UAAU;AAE1C,kBAAU,UAAU;AACpB,cAAM,IAAI,MAAM,6CAA6C,WAAW,sDAAsD,WAAW;AAAA;AAI3I,UAAI,UAAU,MACb,MAAM,GAAG,WACT,OAAO,SAAU,GAAG;AACnB,eAAO,EAAE,OAAO,MAAM;AAAA;AAGxB,aAAO;AAAA,OACN;AAAA;AAAA;AAIP,IAAI,gBAAgB,QAAwC,OAAO,SAAU,SAAS;AACpF,MAAI,mBAAmB,iBAAiB,aAAa;AACrD,MAAI,yBAAyB,iBAAiB,mBAAmB;AACjE,SAAO,WAAY;AACjB;AACA;AAAA;AAAA;;;ADrGJ,IAAI,MAAwC;AAC1C,gBAAc;AAAA,IACZ,WAAW;AAAA,IACX,WAAW;AAAA;AAAA;AAIf,8BAAQ,oCAAC,cAAD,OAAkB;",
  "names": []
}
